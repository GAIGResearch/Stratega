GameConfig:
    Type: TBS
    ActionTimer: 10s
    RoundLimit: 100

Agents:
    - RandomAgent
    - HumanAgent

Tiles:
    Plain:
        Sprite: ../GUI/Assets/plain.png
        Symbol: .
        IsWalkable: true
        DefaultTile: true
    Water:
        Sprite: ../GUI/Assets/water.png
        Symbol: W
        IsWalkable: false
    Mountain:
        Sprite: ../GUI/Assets/rock.png
        Symbol: M
        IsWalkable: false
    Forest:
        Sprite: ../GUI/Assets/forest.png
        Symbol: F
        IsWalkable: true
     
Actions:
    # Spawn Actions
    SpawnMiner:
        Type: EntityAction
        Cooldown: 1
        Preconditions:
            - "HasResource(Source.Gold, 50)"
        Target:
            Type: Position
            Shape: Square
            Size: 1
            Conditions:
                - "IsWalkable(Target)"
        Effects:
            - "Spawn(Miner, Target)"
            - "ModifyResource(Source.Gold, -50)"

    SpawnFighter:
        Type: EntityAction
        Cooldown: 1
        Preconditions:
            - "HasResource(Source.Gold, 100)"
        Target:
            Type: Position
            Shape: Square
            Size: 1
            Conditions:
                - "IsWalkable(Target)"
        Effects:
            - "Spawn(Fighter, Target)"
            - "ModifyResource(Source.Gold, -100)"

    #Research
    ResearchArchery:
        Type: EntityAction
        Cooldown: 0
        Target:
            Type: Technology
            ValidTargets: [Townhall, Archery, AdvanceArchery]
            Conditions:
               - "CanResearch(Target)"
        Effects:
            - "Research(Target)"

    # Attack Actions
    Attack:
        Type: EntityAction
        Cooldown: 1
        Target:
            Type: Entity
            ValidTargets: All
            Conditions:
                - "InRange(Source, Target, 10)"
        Effects:

    # Move Actions
    Move:
        Type: EntityAction
        Cooldown: 1
        Target:
            Type: Position
            Shape: Circle
            Size: 3
            Conditions:
                - "IsWalkable(Target)"
        Effects:
            - "Move(Source, Target)"

    # Resource Actions
    Mine:
        Type: EntityAction
        Cooldown: 1
        Target:
            Type: Entity
            ValidTargets: GoldVein
            Conditions:
                - "InRange(Source, Target, 1)"
                - "HasResource(Target.Gold, 40)"
        Effects:
            - "Transfer(Target.Gold, Source.Gold, 40)"

    Deposit:
        Type: EntityAction
        Cooldown: 1
        Target:
            Type: Entity
            ValidTargets: Base
            Conditions:
                - "InRange(Source, Target, 1)"
        Effects:
            - "Transfer(Source.Gold, Target.Gold, Source.Gold)"

Entities:
    Base:
        Sprite: ../GUI/Assets/castle.png
        Symbol: b
        LineOfSightRange: 5
        Actions: [SpawnMiner, SpawnFighter, ResearchArchery]
        Parameters:
            Gold: 50

    Miner:
        Sprite: ../GUI/Assets/farmer.png
        Symbol: m
        LineOfSightRange: 4
        Actions: [Move, Mine, Deposit]
        Parameters:
            Gold: 0

    Fighter:
        Sprite: ../GUI/Assets/unit2New.png
        Symbol: f
        LineOfSightRange: 6
        Actions: [Move]

    GoldVein:
        Sprite: ../GUI/Assets/gold_chest.png
        Symbol: g
        LineOfSightRange: 6
        Actions: []
        Parameters:
            Gold: 200

Board:
    GenerationType: Manual
    Layout: |-
        M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M
        M  .  .  .  .  .  .  .  .  .  .  .  .  .  M  .  .  .  .  .  .  .  .  g  .  .  .  .  .  .  .  M
        M  .  .  .  .  .  .  .  .  W  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  g  .  .  .  .  .  M
        M  .  .  .  .  .  .  .  .  W  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  M
        M  .  .  .  .  .  .  .  .  W  W  .  .  .  .  .  .  .  .  .  .  .  .  .  .  g  .  .  .  .  .  M
        M  .  .  g  .  .  .  .  .  W  W  .  .  .  .  .  .  b1 .  .  .  .  M  M  .  .  .  .  .  M  M  M
        M  .  .  g  .  .  .  .  .  .  W  W  W  W  .  .  .  .  .  .  .  .  W  W  W  W  W  W  W  W  W  W
        M  .  .  g  .  .  g  g  g  .  W  W  W  W  .  .  .  .  .  .  .  .  W  W  W  W  W  W  W  W  W  W
        M  M  M  g  .  .  .  .  g  .  .  .  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W
        M  .  .  .  .  .  .  .  .  .  .  .  .  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W  W
        M  .  .  .  .  .  .  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  .  W  W  W  W  W
        M  M  M  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  W  W  W  W  W
        M  .  .  .  g  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  M
        M  .  .  g  .  .  .  .  .  .  .  .  .  .  .  .  .  b0 .  .  .  .  .  .  .  g  .  .  .  .  .  M
        M  M  M  g  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  g  .  .  .  .  .  M
        M  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  g  .  .  .  .  .  .  .  M
        M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M  M
                   
ForwardModel:
    WinCondition:
        Type: LastManStanding.

TechnologyTrees:
    Buildings:
        Townhall:
            Description: Is  a townhall :D
            Parents:
        Archery:
            Description: Here you can spawn archers.
            Parents: [Townhall]
        AdvanceArchery:
            Description: Here you can spawn more type of archers.
            Parents: [Archery]
        Mine:
            Description: Here you can spawn miners.
            Parents: [Townhall]
        AdvanceMine:
            Description: Here you can spawn more type of miners.
            Parents: [Mine]